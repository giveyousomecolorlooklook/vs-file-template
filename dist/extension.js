(()=>{"use strict";var t={229:function(t,e,i){var r,n=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(r=function(t){return r=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},r(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=r(t),s=0;s<i.length;s++)"default"!==i[s]&&n(e,t,i[s]);return o(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.UIUtils=void 0;const a=s(i(398)),c=i(765);e.UIUtils=class{static showError(t){a.window.showErrorMessage(`æ–‡ä»¶æ¨¡æ¿: ${t}`)}static showInfo(t){a.window.showInformationMessage(`æ–‡ä»¶æ¨¡æ¿: ${t}`)}static showWarning(t){a.window.showWarningMessage(`æ–‡ä»¶æ¨¡æ¿: ${t}`)}static async showQuickPick(t,e){if(0!==t.length)return await a.window.showQuickPick(t,{placeHolder:e||"è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹"});this.showWarning("æ²¡æœ‰å¯é€‰é¡¹")}static async showQuickPickWithFilter(t,e,i){if(0!==t.length)return new Promise(r=>{const n=a.window.createQuickPick(),o=t.map(t=>({label:t,description:""}));n.items=o,n.placeholder=i||"è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹",e&&(n.value=e),n.onDidChangeSelection(t=>{t[0]&&(r(t[0].label),n.hide())}),n.onDidHide(()=>{r(void 0),n.dispose()}),n.show()});this.showWarning("æ²¡æœ‰å¯é€‰é¡¹")}static async showInputBox(t,e){return await a.window.showInputBox({placeHolder:t,prompt:e})}static async showOpenDialog(t){const e=await a.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,title:t||"é€‰æ‹©æ–‡ä»¶å¤¹"});return e?.[0]}static async showConfirmDialog(t){return"ç¡®å®š"===await a.window.showInformationMessage(t,{modal:!0},"ç¡®å®š","å–æ¶ˆ")}static async showActionMenu(){const t=["é…ç½®æ¨¡æ¿è·¯å¾„","ç®¡ç†æ¨¡æ¿",c.Configuration.getCodeLensEnabled()?"ç¦ç”¨ä»£ç é•œå¤´":"å¯ç”¨ä»£ç é•œå¤´"];return await this.showQuickPick(t,"é€‰æ‹©æ“ä½œ")}}},265:function(t,e,i){var r,n=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(r=function(t){return r=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},r(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=r(t),s=0;s<i.length;s++)"default"!==i[s]&&n(e,t,i[s]);return o(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.activate=function(t){console.log("æ–‡ä»¶æ¨¡æ¿æ’ä»¶å·²æ¿€æ´»"),c.CommandHandler.registerCommands(t),m=new f.TemplateCodeLensProvider;const e=a.languages.registerCodeLensProvider({scheme:"file"},m);t.subscriptions.push(e);const i=a.window.onDidChangeTextEditorSelection(()=>{m.refresh()});t.subscriptions.push(i);const r=a.window.onDidChangeActiveTextEditor(()=>{m.refresh()});t.subscriptions.push(r);const n=a.window.onDidChangeTextEditorSelection(()=>{m.refresh()});t.subscriptions.push(n),h=new l.StatusBarManager,t.subscriptions.push({dispose:()=>h.dispose()});const o=a.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration("vs-file-template.templatePath")&&function(){console.log("æ¨¡æ¿è·¯å¾„é…ç½®å·²å˜åŒ–ï¼Œæ£€æŸ¥ç›®å½•ç»“æ„...");const t=u.Configuration.getTemplatePath();t?u.Configuration.validateTemplatePath(t)?u.Configuration.ensureTemplateSubDirectories()&&console.log(`æ¨¡æ¿è·¯å¾„å·²æ›´æ–°: ${t}`):d.UIUtils.showWarning("æ–°é…ç½®çš„æ¨¡æ¿è·¯å¾„æ— æ•ˆï¼Œè¯·æ£€æŸ¥è·¯å¾„æ˜¯å¦å­˜åœ¨"):d.UIUtils.showWarning("æ¨¡æ¿è·¯å¾„å·²æ¸…ç©º")}(),t.affectsConfiguration("vs-file-template.enableCodeLens")&&(console.log("CodeLensé…ç½®å·²å˜åŒ–ï¼Œåˆ·æ–°CodeLens..."),m&&m.refresh())});t.subscriptions.push(o),function(){const t=u.Configuration.getTemplatePath();t?u.Configuration.validateTemplatePath(t)?(u.Configuration.ensureTemplateSubDirectories(),console.log(`æ¨¡æ¿è·¯å¾„å·²é…ç½®: ${t}`)):d.UIUtils.showWarning("é…ç½®çš„æ¨¡æ¿è·¯å¾„æ— æ•ˆï¼Œè¯·æ£€æŸ¥è·¯å¾„æ˜¯å¦å­˜åœ¨"):d.UIUtils.showWarning("å°šæœªé…ç½®æ¨¡æ¿è·¯å¾„ï¼Œè¯·å…ˆé…ç½®æ¨¡æ¿è·¯å¾„")}(),d.UIUtils.showInfo("æ–‡ä»¶æ¨¡æ¿æ’ä»¶å·²å¯åŠ¨")},e.deactivate=function(){h&&h.dispose(),console.log("æ–‡ä»¶æ¨¡æ¿æ’ä»¶å·²åœç”¨")};const a=s(i(398)),c=i(448),l=i(941),u=i(765),d=i(229),f=i(381);let h,m},381:function(t,e,i){var r,n=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(r=function(t){return r=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},r(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=r(t),s=0;s<i.length;s++)"default"!==i[s]&&n(e,t,i[s]);return o(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateCodeLensProvider=void 0;const a=s(i(398)),c=i(765);e.TemplateCodeLensProvider=class{_onDidChangeCodeLenses=new a.EventEmitter;onDidChangeCodeLenses=this._onDidChangeCodeLenses.event;constructor(){}provideCodeLenses(t,e){const i=[];if(!c.Configuration.getCodeLensEnabled())return i;if("file"!==t.uri.scheme)return i;const r=a.window.activeTextEditor;if(!r||r.document!==t)return i;const n=r.selection.active.line,o=new a.Range(n,0,n,0),s=new a.CodeLens(o,{title:"ğŸ”§ ä»æ¨¡æ¿æ’å…¥",command:"vs-file-template.insert",tooltip:"åœ¨å½“å‰ä½ç½®æ’å…¥æ¨¡æ¿å†…å®¹"});if(i.push(s),!r.selection.isEmpty){const t=new a.CodeLens(o,{title:"ğŸ’¾ ä¿å­˜é€‰ä¸­å†…å®¹ä¸ºæ¨¡æ¿",command:"vs-file-template.addToInsertDir",tooltip:"å°†é€‰ä¸­çš„å†…å®¹ä¿å­˜ä¸ºæ¨¡æ¿"});i.push(t)}return i}resolveCodeLens(t,e){return t}refresh(){this._onDidChangeCodeLenses.fire()}}},398:t=>{t.exports=require("vscode")},448:function(t,e,i){var r,n=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(r=function(t){return r=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},r(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=r(t),s=0;s<i.length;s++)"default"!==i[s]&&n(e,t,i[s]);return o(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.CommandHandler=void 0;const a=s(i(398)),c=i(716),l=i(765),u=i(229);e.CommandHandler=class{static registerCommands(t){const e=a.commands.registerCommand("vs-file-template.insert",()=>this.handleInsertCommand()),i=a.commands.registerCommand("vs-file-template.import",t=>this.handleImportCommand(t)),r=a.commands.registerCommand("vs-file-template.new",t=>this.handleNewCommand(t)),n=a.commands.registerCommand("vs-file-template.btn",()=>this.handleBtnCommand()),o=a.commands.registerCommand("vs-file-template.addToInsertDir",()=>this.handleAddToInsertDirCommand()),s=a.commands.registerCommand("vs-file-template.toggleCodeLens",()=>this.handleToggleCodeLensCommand());t.subscriptions.push(e,i,r,n,o,s)}static async handleInsertCommand(){try{await c.TemplateService.insertTemplate()}catch(t){u.UIUtils.showError(`æ’å…¥æ¨¡æ¿å¤±è´¥: ${t}`)}}static async handleImportCommand(t){try{await c.TemplateService.importTemplate(t)}catch(t){u.UIUtils.showError(`å¯¼å…¥æ¨¡æ¿å¤±è´¥: ${t}`)}}static async handleNewCommand(t){try{await c.TemplateService.createNewFile(t)}catch(t){u.UIUtils.showError(`åˆ›å»ºæ–°æ–‡ä»¶å¤±è´¥: ${t}`)}}static async handleBtnCommand(){try{const t=await u.UIUtils.showActionMenu();if(!t)return;switch(t){case"é…ç½®æ¨¡æ¿è·¯å¾„":await l.Configuration.openSettings();break;case"ç®¡ç†æ¨¡æ¿":await c.TemplateService.manageTemplates();break;case"å¯ç”¨ä»£ç é•œå¤´":case"ç¦ç”¨ä»£ç é•œå¤´":await this.handleToggleCodeLensCommand()}}catch(t){u.UIUtils.showError(`æ‰§è¡Œæ“ä½œå¤±è´¥: ${t}`)}}static async handleAddToInsertDirCommand(){try{await c.TemplateService.addToInsertDir()}catch(t){u.UIUtils.showError(`æ·»åŠ æ¨¡æ¿å¤±è´¥: ${t}`)}}static async handleToggleCodeLensCommand(){try{const t=await l.Configuration.toggleCodeLens();u.UIUtils.showInfo("ä»£ç é•œå¤´å·²"+(t?"å¯ç”¨":"ç¦ç”¨")),a.commands.executeCommand("vscode.executeCodeLensProvider")}catch(t){u.UIUtils.showError(`åˆ‡æ¢ä»£ç é•œå¤´çŠ¶æ€å¤±è´¥: ${t}`)}}}},534:function(t,e,i){var r,n=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(r=function(t){return r=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},r(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=r(t),s=0;s<i.length;s++)"default"!==i[s]&&n(e,t,i[s]);return o(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.FileSystemUtils=void 0;const a=s(i(896)),c=s(i(928));e.FileSystemUtils=class{static directoryExists(t){try{return a.statSync(t).isDirectory()}catch{return!1}}static fileExists(t){try{return a.statSync(t).isFile()}catch{return!1}}static createDirectory(t){try{return this.directoryExists(t)||a.mkdirSync(t,{recursive:!0}),!0}catch(e){return console.error(`åˆ›å»ºç›®å½•å¤±è´¥: ${t}`,e),!1}}static getSubDirectories(t){if(!this.directoryExists(t))return[];try{return a.readdirSync(t).filter(e=>{const i=c.join(t,e);return this.directoryExists(i)})}catch{return[]}}static getFiles(t){if(!this.directoryExists(t))return[];try{return a.readdirSync(t).filter(e=>{const i=c.join(t,e);return this.fileExists(i)})}catch{return[]}}static getFilesRecursively(t){if(!this.directoryExists(t))return[];const e=[];try{const i=a.readdirSync(t);for(const r of i){const i=c.join(t,r),n=a.statSync(i);n.isFile()?e.push(i):n.isDirectory()&&e.push(...this.getFilesRecursively(i))}}catch{}return e}static readFileContent(t){try{return a.readFileSync(t,"utf8")}catch{return null}}static writeFileContent(t,e){try{const i=c.dirname(t);return this.directoryExists(i)||a.mkdirSync(i,{recursive:!0}),a.writeFileSync(t,e,"utf8"),!0}catch{return!1}}static copyFile(t,e){try{const i=c.dirname(e);return this.directoryExists(i)||a.mkdirSync(i,{recursive:!0}),a.copyFileSync(t,e),!0}catch{return!1}}static copyFilesRecursively(t,e){try{const i=this.getFilesRecursively(t);for(const t of i){const i=c.basename(t),r=c.join(e,i);if(!this.copyFile(t,r))return!1}return!0}catch{return!1}}static copyDirectoryWithStructure(t,e){try{if(!this.directoryExists(t))return!1;const i=a.readdirSync(t);for(const r of i){const i=c.join(t,r),n=c.join(e,r),o=a.statSync(i);if(o.isFile()){if(!this.copyFile(i,n))return!1}else if(o.isDirectory()&&(this.directoryExists(n)||a.mkdirSync(n,{recursive:!0}),!this.copyDirectoryWithStructure(i,n)))return!1}return!0}catch(t){return console.error("å¤åˆ¶ç›®å½•å¤±è´¥:",t),!1}}static getParentDirectory(t){return c.dirname(t)}static getPathFromUri(t){return t.fsPath}}},716:function(t,e,i){var r,n=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(r=function(t){return r=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},r(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=r(t),s=0;s<i.length;s++)"default"!==i[s]&&n(e,t,i[s]);return o(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateService=void 0;const a=s(i(398)),c=s(i(928)),l=i(765),u=i(534),d=i(229);e.TemplateService=class{static async insertTemplate(){const t=l.Configuration.getTemplateSubDirectories();if(!t)return void d.UIUtils.showError("æœªé…ç½®æ¨¡æ¿è·¯å¾„æˆ–è·¯å¾„æ— æ•ˆ");const e=t.insert;if(!u.FileSystemUtils.directoryExists(e))return void d.UIUtils.showError("insertç›®å½•ä¸å­˜åœ¨");const i=a.window.activeTextEditor;if(!i)return void d.UIUtils.showError("æ²¡æœ‰æ‰“å¼€çš„ç¼–è¾‘å™¨");const r=i.document.fileName,n=c.extname(r),o=n?n.substring(1):void 0,s=u.FileSystemUtils.getSubDirectories(e);if(0===s.length)return void d.UIUtils.showError("insertç›®å½•ä¸‹æ²¡æœ‰æ¨¡æ¿æ–‡ä»¶å¤¹");const f=await d.UIUtils.showQuickPickWithFilter(s,o,"é€‰æ‹©æ¨¡æ¿ç±»å‹"+(o?` (å½“å‰æ–‡ä»¶: .${o})`:""));if(!f)return;const h=c.join(e,f),m=u.FileSystemUtils.getFiles(h);if(0===m.length)return void d.UIUtils.showError("æ‰€é€‰æ¨¡æ¿ç±»å‹ä¸‹æ²¡æœ‰æ¨¡æ¿æ–‡ä»¶");const p=await d.UIUtils.showQuickPick(m,"é€‰æ‹©æ¨¡æ¿æ–‡ä»¶");if(!p)return;const g=c.join(h,p),w=u.FileSystemUtils.readFileContent(g);null!==w?(await i.edit(t=>{const e=i.document.lineAt(i.selection.active.line).text,r=i.selection.active.character,n=e.substring(0,r);let o=w;w.includes("\n")&&(o=w.split("\n").map((t,e)=>0===e?t:n+t).join("\n")),t.insert(i.selection.active,o)}),d.UIUtils.showInfo("æ¨¡æ¿å†…å®¹å·²æ’å…¥")):d.UIUtils.showError("æ— æ³•è¯»å–æ¨¡æ¿æ–‡ä»¶å†…å®¹")}static async importTemplate(t){const e=l.Configuration.getTemplateSubDirectories();if(!e)return void d.UIUtils.showError("æœªé…ç½®æ¨¡æ¿è·¯å¾„æˆ–è·¯å¾„æ— æ•ˆ");const i=e.import;if(!u.FileSystemUtils.directoryExists(i))return void d.UIUtils.showError("importç›®å½•ä¸å­˜åœ¨");let r;if(!t)return void d.UIUtils.showError("è¯·åœ¨èµ„æºç®¡ç†å™¨ä¸­é€‰æ‹©ç›®æ ‡ä½ç½®");{const e=u.FileSystemUtils.getPathFromUri(t);r=u.FileSystemUtils.fileExists(e)?u.FileSystemUtils.getParentDirectory(e):e}const n=u.FileSystemUtils.getSubDirectories(i);if(0===n.length)return void d.UIUtils.showError("importç›®å½•ä¸‹æ²¡æœ‰æ¨¡æ¿ç›®å½•");const o=await d.UIUtils.showQuickPick(n,"é€‰æ‹©è¦å¯¼å…¥çš„æ¨¡æ¿ç›®å½•");if(!o)return;const s=c.join(i,o);u.FileSystemUtils.copyDirectoryWithStructure(s,r)?d.UIUtils.showInfo(`å·²æˆåŠŸå¯¼å…¥æ¨¡æ¿åˆ°: ${r}ï¼ˆä¿ç•™ç›®å½•ç»“æ„ï¼‰`):d.UIUtils.showError("å¯¼å…¥æ¨¡æ¿å¤±è´¥")}static async createNewFile(t){const e=l.Configuration.getTemplateSubDirectories();if(!e)return void d.UIUtils.showError("æœªé…ç½®æ¨¡æ¿è·¯å¾„æˆ–è·¯å¾„æ— æ•ˆ");const i=e.new;if(!u.FileSystemUtils.directoryExists(i))return void d.UIUtils.showError("newç›®å½•ä¸å­˜åœ¨");let r;if(!t)return void d.UIUtils.showError("è¯·åœ¨èµ„æºç®¡ç†å™¨ä¸­é€‰æ‹©ç›®æ ‡ä½ç½®");{const e=u.FileSystemUtils.getPathFromUri(t);r=u.FileSystemUtils.fileExists(e)?u.FileSystemUtils.getParentDirectory(e):e}const n=u.FileSystemUtils.getFiles(i);if(0===n.length)return void d.UIUtils.showError("newç›®å½•ä¸‹æ²¡æœ‰æ¨¡æ¿æ–‡ä»¶");const o=await d.UIUtils.showQuickPick(n,"é€‰æ‹©æ¨¡æ¿æ–‡ä»¶");if(!o)return;const s=await d.UIUtils.showInputBox("è¾“å…¥æ–°æ–‡ä»¶å","è¯·è¾“å…¥æ–°æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰");if(!s)return;const f=s+c.extname(o),h=c.join(r,f);if(u.FileSystemUtils.fileExists(h)&&!await d.UIUtils.showConfirmDialog(`æ–‡ä»¶ ${f} å·²å­˜åœ¨ï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ`))return;const m=c.join(i,o);if(u.FileSystemUtils.copyFile(m,h)){d.UIUtils.showInfo(`å·²åˆ›å»ºæ–°æ–‡ä»¶: ${f}`);const t=await a.workspace.openTextDocument(h);await a.window.showTextDocument(t)}else d.UIUtils.showError("åˆ›å»ºæ–°æ–‡ä»¶å¤±è´¥")}static async manageTemplates(){const t=l.Configuration.getTemplatePath();if(!t)return void d.UIUtils.showError("æœªé…ç½®æ¨¡æ¿è·¯å¾„");if(!l.Configuration.validateTemplatePath(t))return void d.UIUtils.showError("æ¨¡æ¿è·¯å¾„æ— æ•ˆ");const e=a.Uri.file(t);await a.commands.executeCommand("vscode.openFolder",e,{forceNewWindow:!0})}static async addToInsertDir(){const t=l.Configuration.getTemplateSubDirectories();if(!t)return void d.UIUtils.showError("æœªé…ç½®æ¨¡æ¿è·¯å¾„æˆ–è·¯å¾„æ— æ•ˆ");const e=t.insert;if(!u.FileSystemUtils.directoryExists(e))return void d.UIUtils.showError("insertç›®å½•ä¸å­˜åœ¨");const i=a.window.activeTextEditor;if(!i)return void d.UIUtils.showError("æ²¡æœ‰æ‰“å¼€çš„ç¼–è¾‘å™¨");const r=i.selection;if(r.isEmpty)return void d.UIUtils.showError("è¯·å…ˆé€‰ä¸­è¦ä¿å­˜ä¸ºæ¨¡æ¿çš„æ–‡æœ¬");const n=i.document.getText(r);if(!n.trim())return void d.UIUtils.showError("é€‰ä¸­çš„æ–‡æœ¬ä¸èƒ½ä¸ºç©º");const o=i.document.fileName,s=c.extname(o),f=s?s.substring(1):void 0,h=u.FileSystemUtils.getSubDirectories(e);if(0===h.length)return void d.UIUtils.showError("insertç›®å½•ä¸‹æ²¡æœ‰å­ç›®å½•ï¼Œè¯·å…ˆåˆ›å»ºç›¸åº”çš„æ¨¡æ¿åˆ†ç±»ç›®å½•");const m=await d.UIUtils.showQuickPickWithFilter(h,f,"é€‰æ‹©æ¨¡æ¿åˆ†ç±»ç›®å½•"+(f?` (å½“å‰æ–‡ä»¶: .${f})`:""));if(!m)return;const p=await d.UIUtils.showInputBox("è¯·è¾“å…¥æ¨¡æ¿æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰","è¾“å…¥æ¨¡æ¿æ–‡ä»¶å");if(!p)return;const g=p+(s||".txt"),w=c.join(e,m,g);u.FileSystemUtils.fileExists(w)&&!await d.UIUtils.showConfirmDialog(`æ¨¡æ¿æ–‡ä»¶ ${g} å·²å­˜åœ¨ï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ`)||(u.FileSystemUtils.writeFileContent(w,n)?d.UIUtils.showInfo(`å·²æˆåŠŸä¿å­˜æ¨¡æ¿: ${m}/${g}`):d.UIUtils.showError("ä¿å­˜æ¨¡æ¿æ–‡ä»¶å¤±è´¥"))}}},765:function(t,e,i){var r,n=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(r=function(t){return r=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},r(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=r(t),s=0;s<i.length;s++)"default"!==i[s]&&n(e,t,i[s]);return o(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=void 0;const a=s(i(398)),c=s(i(928)),l=s(i(896)),u=i(534),d=i(229);e.Configuration=class{static CONFIG_SECTION="vs-file-template";static TEMPLATE_PATH_KEY="templatePath";static ENABLE_CODELENS_KEY="enableCodeLens";static getTemplatePath(){return a.workspace.getConfiguration(this.CONFIG_SECTION).get(this.TEMPLATE_PATH_KEY)}static async setTemplatePath(t){const e=a.workspace.getConfiguration(this.CONFIG_SECTION);await e.update(this.TEMPLATE_PATH_KEY,t,a.ConfigurationTarget.Global)}static validateTemplatePath(t){if(!t)return!1;try{return l.statSync(t).isDirectory()}catch{return!1}}static getTemplateSubDirectories(){const t=this.getTemplatePath();return t&&this.validateTemplatePath(t)?{import:c.join(t,"import"),insert:c.join(t,"insert"),new:c.join(t,"new")}:null}static ensureTemplateSubDirectories(){const t=this.getTemplatePath();if(!t)return!1;if(!this.validateTemplatePath(t)&&!u.FileSystemUtils.createDirectory(t))return d.UIUtils.showError(`æ— æ³•åˆ›å»ºæ¨¡æ¿æ ¹ç›®å½•: ${t}`),!1;const e=["import","insert","new"],i=[];let r=!0;for(const n of e){const e=c.join(t,n);u.FileSystemUtils.directoryExists(e)||(u.FileSystemUtils.createDirectory(e)?i.push(n):(d.UIUtils.showError(`æ— æ³•åˆ›å»ºç›®å½•: ${e}`),r=!1))}return i.length>0&&d.UIUtils.showInfo(`å·²è‡ªåŠ¨åˆ›å»ºæ¨¡æ¿ç›®å½•: ${i.join(", ")}`),r}static async openSettings(){await a.commands.executeCommand("workbench.action.openSettings",this.CONFIG_SECTION)}static getCodeLensEnabled(){return a.workspace.getConfiguration(this.CONFIG_SECTION).get(this.ENABLE_CODELENS_KEY,!0)}static async setCodeLensEnabled(t){const e=a.workspace.getConfiguration(this.CONFIG_SECTION);await e.update(this.ENABLE_CODELENS_KEY,t,a.ConfigurationTarget.Global)}static async toggleCodeLens(){const t=!this.getCodeLensEnabled();return await this.setCodeLensEnabled(t),t}}},896:t=>{t.exports=require("fs")},928:t=>{t.exports=require("path")},941:function(t,e,i){var r,n=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(r=function(t){return r=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},r(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=r(t),s=0;s<i.length;s++)"default"!==i[s]&&n(e,t,i[s]);return o(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.StatusBarManager=void 0;const a=s(i(398));e.StatusBarManager=class{statusBarItem;constructor(){this.statusBarItem=a.window.createStatusBarItem(a.StatusBarAlignment.Right,100),this.setupStatusBarItem()}setupStatusBarItem(){this.statusBarItem.text="$(file-code) æ¨¡æ¿",this.statusBarItem.tooltip="æ–‡ä»¶æ¨¡æ¿ç®¡ç†",this.statusBarItem.command="vs-file-template.btn",this.statusBarItem.show()}show(){this.statusBarItem.show()}hide(){this.statusBarItem.hide()}dispose(){this.statusBarItem.dispose()}}}},e={},i=function i(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,i),o.exports}(265);module.exports=i})();