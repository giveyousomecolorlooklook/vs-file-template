# VS Code 文件模板插件

一个用于管理和使用文件模板的 VS Code 插件，支持模板插入、导入、新建文件和CodeLens等功能。

## 功能特性

- **插入模板**: 将模板内容插入到当前编辑器的光标位置，支持多行内容的智能缩进
- **导入模板**: 将模板目录下的文件批量导入到指定目录
- **新建文件**: 基于模板创建新文件
- **保存为模板**: 将选中的文本保存为新的模板文件
- **模板管理**: 通过状态栏按钮快速访问模板管理功能
- **CodeLens支持**: 在编辑器中显示模板操作的代码镜头，支持启用/禁用

## 目录结构

插件要求模板目录具有以下结构：

```
templatedir/
├── import/          # 用于批量导入的模板目录
│   ├── a/
│   └── b/
├── insert/          # 用于插入的模板文件
│   ├── lua/
│   │   └── *.lua
│   ├── ts/
│   │   └── *.ts
│   ├── ini/
│   │   └── *.ini
│   └── 其他/
└── new/             # 用于新建文件的模板
    ├── *.lua
    ├── *.ts
    └── *.其他文件类型
```

## 使用方法

### 1. 配置模板路径

首次使用需要配置模板存放路径：

1. 点击状态栏的"模板"按钮
2. 选择"配置模板路径"
3. 在设置中配置 `vs-file-template.templatePath` 为你的模板目录路径

### 2. 插入模板

**方式一：通过右键菜单**
1. 在编辑器中将光标定位到要插入模板的位置
2. 右键选择"从模板插入"
3. 依次选择模板类型和具体模板文件（筛选框会自动填入当前文件的扩展名，按回车确认选择）
4. 模板内容将插入到光标位置，多行内容会自动应用与光标位置相同的缩进

**方式二：通过CodeLens**
1. 在任意文件中，光标所在行会显示 "🔧 从模板插入" 的CodeLens
2. 点击CodeLens即可快速插入模板

### 3. 导入模板

1. 在资源管理器中右键选择目标文件或文件夹
2. 选择"导入模板"
3. 选择要导入的模板目录
4. 模板目录内的所有文件和子目录将被递归复制到目标位置（保留内部目录结构，但不包含选择的根目录本身）

### 4. 新建文件

1. 在资源管理器中右键选择目标文件夹
2. 选择"从模板新建文件"
3. 选择模板文件并输入新文件名
4. 新文件将被创建并自动打开

### 5. 管理模板

1. 点击状态栏的"模板"按钮
2. 选择"管理模板"
3. 将在新窗口中打开模板目录，方便编辑模板文件

### 6. 保存为模板

**方式一：通过右键菜单**
1. 在编辑器中选中要保存为模板的文本
2. 右键选择"保存为模板"
3. 选择目标模板分类目录（会自动匹配当前文件类型）
4. 输入模板文件名
5. 选中的文本将被保存为模板文件

**方式二：通过CodeLens**
1. 选中文本后，会在光标所在行显示 "💾 保存选中内容为模板" 的CodeLens
2. 点击CodeLens即可快速保存模板

### 7. CodeLens功能

插件提供了CodeLens功能，在编辑器中显示快捷操作：

- **🔧 从模板插入**: 始终在光标所在行显示，点击可快速插入模板
- **💾 保存选中内容为模板**: 仅在有文本选中时显示，点击可快速保存为模板

**启用/禁用CodeLens**：
1. 点击状态栏的"模板"按钮
2. 选择"启用/禁用代码镜头"
3. 或者在设置中搜索"vs-file-template"，找到"Enable Code Lens"选项进行配置

## 快捷键

插件不提供默认快捷键，你可以在 VS Code 的键盘快捷键设置中为以下命令设置快捷键：

- `vs-file-template.insert`: 从模板插入
- `vs-file-template.import`: 从模板导入
- `vs-file-template.new`: 从模板新建文件
- `vs-file-template.addToInsertDir`: 保存为模板
- `vs-file-template.btn`: 文件模板管理
- `vs-file-template.toggleCodeLens`: 切换代码镜头显示

## 配置选项

插件提供以下配置选项：

- `vs-file-template.templatePath`: 模板文件存放路径（必须配置）
- `vs-file-template.enableCodeLens`: 是否启用代码镜头功能（默认：true）

## 注意事项

1. 模板路径必须是绝对路径
2. 模板目录下必须包含 `import`、`insert`、`new` 三个子目录，如果没有会自动创建
3. 导入模板时，会递归复制并保留选中目录内部的完整目录结构
4. 新建文件时，文件扩展名将与模板文件保持一致
5. 插入多行模板时，除第一行外的其他行会自动应用与光标位置相同的缩进
6. CodeLens功能可以通过配置或菜单进行启用/禁用

## 更新日志

### 0.1.0
- 新增CodeLens功能，在编辑器中显示模板操作的快捷按钮
- 支持CodeLens的启用/禁用配置
- 优化多行模板插入时的自动缩进功能
- 新增切换CodeLens显示状态的命令和菜单选项

### 0.0.1
- 初始版本发布
- 支持基本的模板插入、导入、新建文件功能
- 支持保存选中文本为模板
- 提供状态栏快捷访问功能

## 开发信息

- 作者: chentp0601
- 版本: 0.1.0
- 仓库: https://github.com/giveyousomecolorlooklook/vs-file-template

## 许可证

本项目采用 MIT 许可证 - 详情请参阅 [LICENSE](LICENSE) 文件。